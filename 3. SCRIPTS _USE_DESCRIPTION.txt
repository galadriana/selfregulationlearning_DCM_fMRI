SCRIPTS

generaMask.m 
- Función para generar máscaras según espacio MNI y atlas AAL3
- Lumped 

generaROI.m 
- Función para genera ROI's con los nombres a utilizar en DCM
- Output = VOI's per run per subject

generaunDCM.m 
- Función donde se especifican los parámetros a utilizar en la estimación de los DCM's

Elibre.m
- Funcion para la comparacion de energía libre

generaDCMg2_selecMAMC.m
- Especificación de las redes según los parámetros de A y C 
- Genera los DCM para cada sujeto y sesion con las redes definidas por la matriz A y Co
- folderoutDCM: DCM\MAMB

generaDCMg2_MB.m
- Especificación de las redes según los parámetros B
- Genera los DCM con las redes definidas por las matrices A, B y C
- folderoutDCM: DCM\MAMBMC
- dcm.bms.inference

SujSessMod.m 
- MODEL COMPARISON
- Comparación de modelos diferenciando según sujeto, sesión y tipo de modelo
- En base a la funcion spm: spm_run_dcm_bms(job)
	- RFX = Exceedence 
	- Family = Evidence
- Output: model_space.m and BMS.m 
--> the use of a `model space' file makes SPMs Bayesian model comparison (BMC) routines much simpler


Family Comparison
--> para generar este script es necesario en cada caso usar la GUI spm. 
Ocupando el model space previamente generado
Go to Batch, SPM, DCM, Bayesian Model Selection, Model Inference. 
-- RFX we choose. Also the FFX is an option

Dif_FE_net.model
- Genera Comparación de energía libre en base a los DCM seleccionados

SujSessMod4.m 
- Input: performance and model space 
- Segun paradigma y treshold en performance, 
se comparan los modelos by dcm.bms.inference

AprendSignific.m
- Se determina aprendizaje usando data SMA_entrenamiento y DCM_model model_space and BMS
model space se obtiene con el archivo SujSessMod.m
- Outputs: regresión lineal y model performance
- Learning: By slope and by treshold 
- Comparación en el caso de 3 modelos se usan logic operators

UmbralPerf_modelcompar.m
- Comparación entre correlaciones de modelos y aprendizajes 
a diferentes umbrales
- dcm.bms.inference

ParamE.m 
- Extrae los parámetros del DCM  a nivel de (modelos x sujetos x sesiones)
- Parámetros 
	- paramB= DCM.Ep: averaged posterior means
		This comprises the filename (fname), 
		the free energy approximation to the model evidence (F), 
		posterior mean parameters (Ep)
		the posterior covariance of parameters (Cp).
	- covarB= DCM.Cp: averaged posterior covariance matrix
	IN 
	- model evidence (F)
	- DCM.Vp= averaged posterior variance vector of each parameter - the diagonal of DCM.Cp
	- DCM.Pp= averaged posterior probability of each parameter
- Output= Almacenamiento en variable paramB

corremod.m 
- Desde parametros de B y A obtenidos en ParamE.m se correlaciona con performance 
- corr parametros y sujetos


-CorrParMod.m


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
Little summary

https://miplab.epfl.ch/BrainHack/Practice/Utilities/spm12/man/bms/bms.tex

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
